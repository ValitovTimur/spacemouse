# Полный обзор правок и модификаций, которые нужно ввести.

## Схемотехника

  1. Однозначно фильтрацию входного питания. LC фильтр, защита от статики,
     перенапряжения, переполюсовки.
  2. Отделить ответвление питания датчиков Холла. LC фильтр, защита по току.
     Свивка жгута питания.
  3. Фильтр питания НА КАЖДОМ сенсоре прям у входа.
  4. Фильтрация выхода КАЖДОГО сенсора у входа в АЦП. Срезать все, что выше
     200 Гц. Точную частоту прикинуть исходя не из максимальной частоты
     перемещения джойстика (она крайне низка), а из времени фронта сигнала
     при максимальном создаваемом ускорении. Если выставить фильтр 10Гц
     (сомневаюсь что кто-то сможет дергать рукоятку быстрее), то управление
     может стать ватным, т.к. при быстром перемещении рукоятки, выходной сигнал
     будет дольше догонять уровень реального сигнала и управление будет ватным.
     Поэтому, смотреть частоту среза по фронту максимального ускорения. Это
     будет относительно грубый фильтр, чисто чтобы защитить от помех с питания
     и ВЧ наводок. Дальнейшая фильтрация в ПО.
  5. Свивка КАЖДОГО сигнального выхода сенсора с землей.
  6. Можно подумать о усилении и смещении полезного сигнала, для растягивания
     его на полный диапазон АЦП. Но не думаю что это нужно.
     6.1. Это приведет к сложной и индивидуальной настройке смещения под каждый
          сенсор, каждой мышке. Ну либо придумывать схемотехнику с ЦАП, где
          контроллер сам будет выставлять напряжение смещения и усиления.
     6.2. Схемотехника усложняется и увеличивается плата.
     Пока-что этот пункт не исполнять. Точности хватает и при текущей, дерьмовой
     схемоте, и на этапе первого прототипа не имеет смысла так вылизывать ее.
  7. Кол-во кнопок увеличить, сделать равным оригиналу. Кнопки тоже свивками,
     RC-фильтром и защитой по току. Все-таки выводы цифровые, в случае чего
     и пожечь можно.
  8. Обдумать возможность размещения ВСЕГО что есть, на плате, прямо под
     шайбой. Это кажется более чем осуществивым.


## ПО:

  По сути, тут уже все сделано. Я уже добавил возможность использования
  дополнительных 6-ти кнопок через комбинации.
  Нужно добавить еще программную фильтрацию данных (чтобы убрать дрож в процессе
  перемещения и убрать дрожание при затухающих колебаниях рукоятки).
  Фильтрацию разумно разместить не напрямую на анлоговых данных, а между уже
  рассчитаными перемещениями\вращениями по координатам и дополнительными
  модиффикаторами перемещений, нелинейных зависимостей и т.д.
  То есть, фильтровать не сам сигнал, а рассчитаные величины. Это более
  предсказуемо.




## Эргономика

  1. В основном, вся работа уже проделана.
     1.1. Рукоятку - скопировать.
     1.2. Основание рукоятки - скопировать (вот это углубление, в которое она
          входит).
     1.3. Пружину - однозначно скопировать. Идея печатной пружины и на столько
          простой механики - это супер круто. Пожал бы руку тому, кто догадался
          и провел эксперименты.
     1.4. Основание - переработать.
          1.4.1. Кнопки - увеличить кол-во, сменить сам тип кнопки на что-то
                 более мягкое, и сместить под пальцы.
          1.4.2. Сделать подставку под руку. В идеале - съемную.
                 Например, сделать ее круговой подставкой, в которую помещается
                 текущая "шайба". Можно попробовать подумать над смещением
                 кнопок на нее, и подключение этих кнопок через POGO пины.
                 ЕБАТЬ! ВОТ ОНО! Можно оставить 5 кнопок на шайбе, а остальные
                 переместить на подставку и Pogo пины.
                 Тогда хоткеи будут полностью совместимы.
  2. Чехол. Однозначно нужно сделать, скорее всего из TPU, должен закрывать
     рукоятку, но не касаться ее, а вот на шайбу должен натягиваться, чтобы
     за нее держаться. Можно сделать сужение, чтобы оно зацеплялось за основание.